<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cheaters Community - Login</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
         :root {
            --primary-color: #2563eb;
            --primary-dark-color: #1d4ed8;
            --background-color: black;
            --text-color: white;
            --error-color: #ef4444;
            --success-color: #22c55e;
            --input-bg-color: rgba(255, 255, 255, 0.1);
            --input-border-color: rgba(255, 255, 255, 0.3);
            --transition-speed: 0.3s;
        }
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
             overflow: hidden;
            background-color: var(--background-color);
             color: var(--text-color);
            display: flex;
            align-items: center;
              justify-content: center;
            min-height: 100vh;
            position: relative;/*Required for dots overlay*/
        }

         .theme-toggle {
            position: absolute;
             top: 20px;
             right: 20px;
            cursor: pointer;
             color: white;
           font-size: 24px;
             z-index: 100;
         }
          #backgroundCanvas {
             position: fixed;
           top: 0;
             left: 0;
              width: 100%;
               height: 100%;
              z-index: -1; /* Ensure canvas is below other elements */
               pointer-events: none;/*Make sure that the canvas does not interfere with clicks*/
       }

        .login-container {
            position: relative; /* Needed for absolute positioning of the animation */
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
              padding: 30px;
           box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.8);
               text-align: center;
              width: 350px;
             transition: opacity var(--transition-speed);
              opacity: 1;
             transform: translateY(0);
        }
        .login-container.hidden {
               opacity: 0;
             pointer-events: none;
             transform: translateY(-20px);
        }

        .login-container img {
           width: 100px;
             margin-bottom: 20px;
             animation: fadeIn var(--transition-speed) ease-in-out;
          }

           .login-container h1 {
              font-size: 24px;
            margin-bottom: 20px;
             animation: fadeIn var(--transition-speed) ease-in-out;
         }

         .login-container input[type="text"],
           .login-container input[type="password"] {
           width: 100%;
             padding: 12px;
           margin: 10px 0;
           border: none;
              border-radius: 5px;
            outline: none;
             background-color: var(--input-bg-color);
              border: 1px solid var(--input-border-color);
            color: var(--text-color);
                transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
          }
         .login-container input[type="text"]:focus,
        .login-container input[type="password"]:focus {
           border-color: var(--primary-color);
              box-shadow: 0 0 8px rgba(37, 99, 235, 0.5);
         }
          .login-container button {
           background-color: var(--primary-color);
             color: white;
             border: none;
               padding: 12px;
              width: 100%;
           border-radius: 5px;
               cursor: pointer;
              font-size: 16px;
               transition: background-color var(--transition-speed);
        }

       .login-container button:hover {
             background-color: var(--primary-dark-color);
        }

          .login-container a {
              color: #3b82f6;
             text-decoration: none;
              display: block;
            margin-top: 10px;
             font-size: 14px;
               transition: color var(--transition-speed), text-decoration var(--transition-speed);
        }
           .login-container a:hover {
               text-decoration: underline;
            color: var(--primary-color);
         }
       .modal {
              display: none;
             position: fixed;
              top: 50%;
            left: 50%;
             transform: translate(-50%, -50%);
             background: rgba(0, 0, 0, 0.9);
            padding: 20px;
               border-radius: 10px;
           box-shadow: 0 0 15px rgba(0, 0, 0, 0.8);
               color: var(--text-color);
              width: 300px;
            text-align: center;
               cursor: move;
             z-index: 1000;
          }

         .modal input[type="email"] {
           width: 90%;
            padding: 10px;
            margin: 10px 0;
              border: none;
             border-radius: 5px;
           outline: none;
            background-color: var(--input-bg-color);
            border: 1px solid var(--input-border-color);
           color: var(--text-color);
            transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
          }
        .modal input[type="email"]:focus {
             border-color: var(--primary-color);
            box-shadow: 0 0 8px rgba(37, 99, 235, 0.5);
        }
        .modal button {
             background-color: var(--primary-color);
              color: white;
             border: none;
            padding: 12px;
             width: 90%;
             border-radius: 5px;
            cursor: pointer;
           font-size: 16px;
              margin-top: 10px;
              transition: background-color var(--transition-speed);
         }

          .modal button:hover {
           background-color: var(--primary-dark-color);
           }

          .status-message {
              margin-top: 10px;
           font-size: 14px;
            display: none;
                transition: opacity var(--transition-speed);
                 opacity: 0;
        }
           .status-message.success {
              color: var(--success-color);
          }

       .status-message.error {
               color: var(--error-color);
        }

         @keyframes fadeIn{
              from{
              opacity: 0;
                 transform: translateY(-10px)
            }
           to {
                 opacity: 1;
                 transform: translateY(0px)
           }
         }

        .shake {
              animation: shakeAnimation 0.8s ease ;
            }
        @keyframes shakeAnimation {
            0%, 100%{transform: translateX(0)}
             10%, 30%, 50%, 70%, 90% {transform: translateX(-5px)}
               20%, 40%, 60%, 80% { transform: translateX(5px)}
       }
    </style>
</head>
<body>
   <div class = "theme-toggle" id = "theme-toggle"><i class="fas fa-sun"></i></div>
  <canvas id="backgroundCanvas"></canvas>
    <div class="login-container" id="loginContainer">
         <img src="https://files.catbox.moe/h94ahr.png" alt="Cheaters Community Logo">
        <h1>Cheaters Community</h1>
        <form id = "loginForm" onsubmit="handleLogin(event)">
           <input type="text" id="username" placeholder="Username" required>
            <input type="password" id="password" placeholder="Password" required>
            <button type="submit">Login</button>
      </form>
        <a href="#" onclick="openForgotPassword()">Forgot Password?</a>
          <a href="#">Create an Account</a>
  </div>
   <div class="modal" id="forgotPasswordModal">
         <h2>Reset Password</h2>
          <input type="email" placeholder="Enter your email" id="resetEmail" required>
          <button onclick="sendResetEmail()">Submit</button>
        <p class="status-message" id="statusMessage"></p>
   </div>
    <script>
          const loginContainer = document.getElementById('loginContainer');
           const forgotPasswordModal = document.getElementById('forgotPasswordModal');
         const statusMessage = document.getElementById('statusMessage');
        const themeToggle = document.getElementById("theme-toggle");
      const canvas = document.getElementById('backgroundCanvas');
       const ctx = canvas.getContext('2d');
         let isDarkMode = false;
           canvas.width = window.innerWidth;
           canvas.height = window.innerHeight;
         const dots = [];
         const numDots = 50;
       let mouseX = null;
       let mouseY = null;

      function toggleTheme(){
            isDarkMode = !isDarkMode;
           updateTheme();
         }
          function updateTheme(){
             if (isDarkMode){
                 document.body.style.setProperty('--background-color', '#1a1a1a');
                document.body.style.setProperty('--text-color', '#ffffff');
                 document.body.style.setProperty('--input-bg-color', 'rgba(255, 255, 255, 0.05)');
                 document.body.style.setProperty('--input-border-color', 'rgba(255, 255, 255, 0.2)');
                 themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
           } else {
              document.body.style.setProperty('--background-color', 'black');
              document.body.style.setProperty('--text-color', 'white');
               document.body.style.setProperty('--input-bg-color', 'rgba(255, 255, 255, 0.1)');
                 document.body.style.setProperty('--input-border-color', 'rgba(255, 255, 255, 0.3)');
                 themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
           }
          }
           themeToggle.addEventListener('click', toggleTheme)

        class Dot {
          constructor(x, y) {
             this.x = x;
            this.y = y;
           this.radius = 3;
             this.speedX = (Math.random() - 0.5) * 1;
              this.speedY = (Math.random() - 0.5) * 1;
           }
           draw() {
              ctx.beginPath();
             ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = 'white';
              ctx.fill();
         }
            update(){
              this.x += this.speedX;
               this.y += this.speedY;
               if (this.x + this.radius > canvas.width || this.x - this.radius < 0) {
                     this.speedX *= -1;
                  }
              if (this.y + this.radius > canvas.height || this.y - this.radius < 0) {
                   this.speedY *= -1;
              }
             }
      }

       for (let i = 0; i < numDots; i++) {
          dots.push(new Dot(Math.random() * canvas.width, Math.random() * canvas.height));
        }
        canvas.addEventListener('mousemove', (e) => {
          const rect = canvas.getBoundingClientRect();
             mouseX = e.clientX - rect.left;
            mouseY = e.clientY - rect.top;
     });
     function animate() {
             ctx.clearRect(0, 0, canvas.width, canvas.height);
           for(let dot of dots) {
               dot.draw();
                 dot.update();
                    if (mouseX !== null && mouseY !== null){
                  ctx.beginPath();
                     ctx.moveTo(dot.x, dot.y);
                     ctx.lineTo(mouseX, mouseY);
                        ctx.strokeStyle = 'rgba(255,255,255,0.1)';
                    ctx.stroke();
             }
          }
            requestAnimationFrame(animate);
     }
     animate();
        function openForgotPassword() {
            loginContainer.classList.add('hidden');
            forgotPasswordModal.style.display = 'block';
            statusMessage.style.display = 'none';
       }
        function closeForgotPassword() {
              forgotPasswordModal.style.display = 'none';
            loginContainer.classList.remove('hidden');
        }
        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
           return emailRegex.test(email);
      }

       function showMessage(message, type) {
            statusMessage.textContent = message;
              statusMessage.className = `status-message ${type}`;
            statusMessage.style.display = 'block';
               statusMessage.style.opacity = '1';

            setTimeout(() => {
                statusMessage.style.opacity = '0';
                 setTimeout(() => {
                   statusMessage.style.display = 'none';
                 if (type === 'success') closeForgotPassword();
                  }, 300);
             }, 5000);
       }

     function sendResetEmail() {
            const email = document.getElementById('resetEmail').value;
             if (!validateEmail(email)) {
                showMessage('Invalid email address.', 'error');
               document.getElementById("resetEmail").classList.add('shake');
                  setTimeout(() => document.getElementById("resetEmail").classList.remove('shake'), 800)
                  return;
             }

           showMessage('Password reset request successfully sent to email!', 'success');
              document.getElementById('resetEmail').value = '';
      }

      // Draggable modal
     let isDragging = false;
     let offsetX, offsetY;
        forgotPasswordModal.addEventListener('mousedown', (e) => {
           isDragging = true;
             offsetX = e.clientX - forgotPasswordModal.offsetLeft;
               offsetY = e.clientY - forgotPasswordModal.offsetTop;
       });

        document.addEventListener('mousemove', (e) => {
            if (isDragging) {
                  forgotPasswordModal.style.left = `${e.clientX - offsetX}px`;
                   forgotPasswordModal.style.top = `${e.clientY - offsetY}px`;
              }
      });
     document.addEventListener('mouseup', () => {
            isDragging = false;
     });
     // Handle login
      function handleLogin(event) {
           event.preventDefault();
           const username = document.getElementById('username').value;
          const password = document.getElementById('password').value;
          if (username === 'zahir' && password === 'kebab') {
             window.location.href = 'store.html';
              } 
              if (username === 'spenuri' && password === 'kebab') {
             window.location.href = 'store.html';
              } else {
            alert('Invalid username or password.');
             document.getElementById("loginForm").classList.add('shake');
                setTimeout(() => document.getElementById("loginForm").classList.remove('shake'), 800)
              
            }
       }
    </script>
</body>
</html>
